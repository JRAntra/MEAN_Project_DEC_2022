<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
  </head>
  <body>
    <div class="content">
      <div class="left_section">
        <div class="blogs" *ngFor="let singleNew of news; let i = index">
          <div *ngIf="singleNew.content">
            <div class="user">
              <div class="user-top">
                <div class="user-left">
                  <span class="username"
                    ><b>{{ singleNew.publisherName }}</b></span
                  >
                </div>
                <button
                  mat-icon-button
                  [matMenuTriggerFor]="menu"
                  aria-label="Example icon-button with a menu"
                  class="menu_button"
                >
                  <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                  <button mat-menu-item>
                    <mat-icon>dialpad</mat-icon>
                    <span>Redial</span>
                  </button>
                  <button mat-menu-item disabled>
                    <mat-icon>voicemail</mat-icon>
                    <span>Check voice mail</span>
                  </button>
                  <button mat-menu-item>
                    <mat-icon>notifications_off</mat-icon>
                    <span>Disable alerts</span>
                  </button>
                </mat-menu>
              </div>
              <div *ngIf="singleNew.content.image">
                <img
                  src="{{ singleNew.content.image }}"
                  alt=""
                  class="blog-img"
                />
              </div>

              <div class="post_details">
                <div class="icons">
                  <div class="left_icons">
                    <!-- <a (click)="onItemClick(singleNew)" -->
                    <a (click)="onItemClick(singleNew)"
                      ><fa-icon [icon]="heart"></fa-icon
                    ></a>
                  </div>
                </div>
                <span class="live_numbers">
                  Liked by <b>you</b> and
                  <b>{{ singleNew.comment.length }}</b> others
                </span>

                <button class="comments" (click)="viewMoreComments(singleNew)">
                  View all {{ singleNew.likedIdList.length }} comments
                </button>
                <div class="comments_content" *ngIf="viewComments">
                  <div
                    class="singleComment"
                    *ngFor="let singleComment of singleNew.comment"
                  >
                    <span>
                      {{ singleComment.publisherName }}:
                      {{ singleComment.content.text }}
                      <br />
                      {{ singleComment.publishedTime | date }}
                    </span>
                  </div>
                </div>
                <form [formGroup]="commitForm" (ngSubmit)="onSubmitComment(i)">
                  <label for="comment-content">Name:</label>
                  <input type="text" formControlName="name" id="comment-name" />
                  <span
                    *ngIf="
                      !commitForm.controls['content'].valid &&
                      commitForm.controls['content'].touched
                    "
                    >Please enter a valid name</span
                  >
                  <label for="comment-content">Content:</label>
                  <input
                    type="text"
                    formControlName="content"
                    id="comment-content"
                  />
                  <button>Publish</button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
